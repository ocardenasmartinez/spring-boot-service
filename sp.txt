DROP PROCEDURE IF EXISTS challenge.add_user;

CREATE DEFINER = `octavio` @`%`
PROCEDURE challenge.add_user(
   IN      name             VARCHAR(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci,
   IN      lastname         VARCHAR(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci,
   IN      birthdate        DATE,
   IN      contact_number   INT(20),
   IN      address          VARCHAR(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci,
   IN      email            VARCHAR(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci,
   IN      country          VARCHAR(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci,
       OUT status           INT(20),
       OUT message          VARCHAR(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci)
   LANGUAGE SQL
   DETERMINISTIC
   CONTAINS SQL
   SQL SECURITY DEFINER
BEGIN
   INSERT INTO users(name,
                     lastname,
                     birthdate,
                     contact_number,
                     email,
                     address,
                     country)
        VALUES (name,
                lastname,
                birthdate,
                contact_number,
                email,
                address,
                country);

   SET status = 1;
   SET message = 'OK';
END;